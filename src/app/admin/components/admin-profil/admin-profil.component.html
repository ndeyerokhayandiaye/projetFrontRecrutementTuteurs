<div class="container  mt-5" >
  <div class="profile-container">
    <!-- Chargement -->
    <div *ngIf="isLoading" class="text-center">
      <div class="spinner-border" role="status" style="color: #FF6600;">
        <span class="visually-hidden">Chargement...</span>
      </div>
    </div>

    <!-- Contenu du profil -->
    <div *ngIf="!isLoading" class="row">
      <!-- Section du profil -->
      <div class="col-md-4 mb-4">
        <div class="card shadow profile-card">
          <div class="card-header bg-white text-center">
            <h3 class="mb-0">Mon Profil</h3>
          </div>
          <div class="card-body text-center">
            <div class="profile-pic-container mb-3">
              <img [src]="user.profilePicture" alt="Photo de profil" class="profile-pic rounded-circle" />
            </div>

            <!-- Mode affichage -->
            <div *ngIf="!isEditing" class="text-start">
              <p><strong>Nom :</strong> {{ user.lastName }}</p>
              <p><strong>Prénom :</strong> {{ user.firstName }}</p>
              <p><strong>Email :</strong> {{ user.email }}</p>
              <p><strong>Rôle :</strong> {{ user.role }}</p>
              <div class="text-center mt-4">
                <button class="btn w-100" (click)="enableEditing()" style="background-color: #FF6600; color: white;">
                  <i class="bi bi-pencil-square me-2"></i> Modifier
                </button>
              </div>
            </div>

            <!-- Mode édition -->
            <div *ngIf="isEditing" class="mt-3">
              <div class="mb-3">
                <label class="form-label">Nom</label>
                <input type="text" class="form-control" [(ngModel)]="user.lastName" placeholder="Nom">
              </div>
              <div class="mb-3">
                <label class="form-label">Prénom</label>
                <input type="text" class="form-control" [(ngModel)]="user.firstName" placeholder="Prénom">
              </div>
              <div class="mb-3">
                <label class="form-label">Photo de profil</label>
                <input type="file" class="form-control" (change)="onFileSelected($event)" accept="image/*">
              </div>
              <div class="d-flex justify-content-between mt-4">
                <button class="btn btn-secondary" (click)="cancelEditing()">
                  <i class="bi bi-x-circle me-2"></i> Annuler
                </button>
                <button class="btn" (click)="updateProfile()" style="background-color: #FF6600; color: white;">
                  <i class="bi bi-check-circle me-2"></i> Enregistrer
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
